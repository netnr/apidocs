function Node(a,b,c,d,e,f,g,h,i){this.id=a,this.pid=b,this.name=c,this.url=d,this.title=e,this.target=f,this.icon=g,this.iconOpen=h,this._io=i||!1,this._is=!1,this._ls=!1,this._hc=!1,this._ai=0,this._p}function dTree(a){this.config={target:null,folderLinks:!0,useSelection:!0,useCookies:!0,useLines:!0,useIcons:!0,useStatusText:!1,closeSameLevel:!1,inOrder:!1},this.icon={root:"/assets/dtree/img/base.gif",folder:"/assets/dtree/img/folder.gif",folderOpen:"/assets/dtree/img/folderopen.gif",node:"/assets/dtree/img/page.gif",empty:"/assets/dtree/img/empty.gif",line:"/assets/dtree/img/line.gif",join:"/assets/dtree/img/join.gif",joinBottom:"/assets/dtree/img/joinbottom.gif",plus:"/assets/dtree/img/plus.gif",plusBottom:"/assets/dtree/img/plusbottom.gif",minus:"/assets/dtree/img/minus.gif",minusBottom:"/assets/dtree/img/minusbottom.gif",nlPlus:"/assets/dtree/img/nolines_plus.gif",nlMinus:"/assets/dtree/img/nolines_minus.gif"},this.obj=a,this.aNodes=[],this.aIndent=[],this.root=new Node(-1),this.selectedNode=null,this.selectedFound=!1,this.completed=!1}dTree.prototype.add=function(a,b,c,d,e,f,g,h,i){this.aNodes[this.aNodes.length]=new Node(a,b,c,d,e,f,g,h,i)},dTree.prototype.openAll=function(){this.oAll(!0)},dTree.prototype.closeAll=function(){this.oAll(!1)},dTree.prototype.toString=function(){var a='<div class="dtree">\n';return document.getElementById?(this.config.useCookies&&(this.selectedNode=this.getSelected()),a+=this.addNode(this.root)):a+="Browser not supported.",a+="</div>",this.selectedFound||(this.selectedNode=null),this.completed=!0,a},dTree.prototype.addNode=function(a){var d,b="",c=0;for(this.config.inOrder&&(c=a._ai),c;c<this.aNodes.length&&(this.aNodes[c].pid!=a.id||(d=this.aNodes[c],d._p=a,d._ai=c,this.setCS(d),!d.target&&this.config.target&&(d.target=this.config.target),d._hc&&!d._io&&this.config.useCookies&&(d._io=this.isOpen(d.id)),!this.config.folderLinks&&d._hc&&(d.url=null),this.config.useSelection&&d.id==this.selectedNode&&!this.selectedFound&&(d._is=!0,this.selectedNode=c,this.selectedFound=!0),b+=this.node(d,c),!d._ls));c++);return b},dTree.prototype.node=function(a,b){var c='<div class="dTreeNode">'+this.indent(a,b);return this.config.useIcons&&(a.icon||(a.icon=this.root.id==a.pid?this.icon.root:a._hc?this.icon.folder:this.icon.node),a.iconOpen||(a.iconOpen=a._hc?this.icon.folderOpen:this.icon.node),this.root.id==a.pid&&(a.icon=this.icon.root,a.iconOpen=this.icon.root),c+='<img id="i'+this.obj+b+'" src="'+(a._io?a.iconOpen:a.icon)+'" alt="" />'),a.url?(c+='<a id="s'+this.obj+b+'" class="'+(this.config.useSelection?a._is?"nodeSel":"node":"node")+'" target="body" href="'+a.url+'"',a.title&&(c+=' title="'+a.title+'"'),a.target&&(c+=' target="'+a.target+'"'),this.config.useStatusText&&(c+=" onmouseover=\"window.status='"+a.name+"';return true;\" onmouseout=\"window.status='';return true;\" "),this.config.useSelection&&(a._hc&&this.config.folderLinks||!a._hc)&&(c+=' onclick="javascript: '+this.obj+".s("+b+');"'),c+=">"):this.config.folderLinks&&a.url||!a._hc||a.pid==this.root.id||(c+='<a href="javascript: '+this.obj+".o("+b+');" class="node">'),c+=a.name,(a.url||(!this.config.folderLinks||!a.url)&&a._hc)&&(c+="</a>"),c+="</div>",a._hc&&(c+='<div id="d'+this.obj+b+'" class="clip" style="display:'+(this.root.id==a.pid||a._io?"block":"none")+';">',c+=this.addNode(a),c+="</div>"),this.aIndent.pop(),c},dTree.prototype.indent=function(a,b){var d,c="";if(this.root.id!=a.pid){for(d=0;d<this.aIndent.length;d++)c+='<img src="'+(1==this.aIndent[d]&&this.config.useLines?this.icon.line:this.icon.empty)+'" alt="" />';a._ls?this.aIndent.push(0):this.aIndent.push(1),a._hc?(c+='<a href="javascript: '+this.obj+".o("+b+');"><img id="j'+this.obj+b+'" src="',c+=this.config.useLines?a._io?a._ls&&this.config.useLines?this.icon.minusBottom:this.icon.minus:a._ls&&this.config.useLines?this.icon.plusBottom:this.icon.plus:a._io?this.icon.nlMinus:this.icon.nlPlus,c+='" alt="" /></a>'):c+='<img src="'+(this.config.useLines?a._ls?this.icon.joinBottom:this.icon.join:this.icon.empty)+'" alt="" />'}return c},dTree.prototype.setCS=function(a){var b,c;for(c=0;c<this.aNodes.length;c++)this.aNodes[c].pid==a.id&&(a._hc=!0),this.aNodes[c].pid==a.pid&&(b=this.aNodes[c].id);b==a.id&&(a._ls=!0)},dTree.prototype.getSelected=function(){var a=this.getCookie("cs"+this.obj);return a?a:null},dTree.prototype.s=function(a){if(this.config.useSelection){var b=this.aNodes[a];(!b._hc||this.config.folderLinks)&&this.selectedNode!=a&&((this.selectedNode||0==this.selectedNode)&&(eOld=document.getElementById("s"+this.obj+this.selectedNode),eOld.className="node"),eNew=document.getElementById("s"+this.obj+a),eNew.className="nodeSel",this.selectedNode=a,this.config.useCookies&&this.setCookie("cs"+this.obj,b.id))}},dTree.prototype.o=function(a){var b=this.aNodes[a];this.nodeStatus(!b._io,a,b._ls),b._io=!b._io,this.config.closeSameLevel&&this.closeLevel(b),this.config.useCookies&&this.updateCookie()},dTree.prototype.oAll=function(a){for(var b=0;b<this.aNodes.length;b++)this.aNodes[b]._hc&&this.aNodes[b].pid!=this.root.id&&(this.nodeStatus(a,b,this.aNodes[b]._ls),this.aNodes[b]._io=a);this.config.useCookies&&this.updateCookie()},dTree.prototype.openTo=function(a,b,c){var d,e;if(!c)for(d=0;d<this.aNodes.length;d++)if(this.aNodes[d].id==a){a=d;break}e=this.aNodes[a],e.pid!=this.root.id&&e._p&&(e._io=!0,e._is=b,this.completed&&e._hc&&this.nodeStatus(!0,e._ai,e._ls),this.completed&&b?this.s(e._ai):b&&(this._sn=e._ai),this.openTo(e._p._ai,!1,!0))},dTree.prototype.closeLevel=function(a){for(var b=0;b<this.aNodes.length;b++)this.aNodes[b].pid==a.pid&&this.aNodes[b].id!=a.id&&this.aNodes[b]._hc&&(this.nodeStatus(!1,b,this.aNodes[b]._ls),this.aNodes[b]._io=!1,this.closeAllChildren(this.aNodes[b]))},dTree.prototype.closeAllChildren=function(a){for(var b=0;b<this.aNodes.length;b++)this.aNodes[b].pid==a.id&&this.aNodes[b]._hc&&(this.aNodes[b]._io&&this.nodeStatus(!1,b,this.aNodes[b]._ls),this.aNodes[b]._io=!1,this.closeAllChildren(this.aNodes[b]))},dTree.prototype.nodeStatus=function(a,b,c){eDiv=document.getElementById("d"+this.obj+b),eJoin=document.getElementById("j"+this.obj+b),this.config.useIcons&&(eIcon=document.getElementById("i"+this.obj+b),eIcon.src=a?this.aNodes[b].iconOpen:this.aNodes[b].icon),eJoin.src=this.config.useLines?a?c?this.icon.minusBottom:this.icon.minus:c?this.icon.plusBottom:this.icon.plus:a?this.icon.nlMinus:this.icon.nlPlus,eDiv.style.display=a?"block":"none"},dTree.prototype.clearCookie=function(){var a=new Date,b=new Date(a.getTime()-864e5);this.setCookie("co"+this.obj,"cookieValue",b),this.setCookie("cs"+this.obj,"cookieValue",b)},dTree.prototype.setCookie=function(a,b,c,d,e,f){document.cookie=escape(a)+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":"")},dTree.prototype.getCookie=function(a){var d,e,b="",c=document.cookie.indexOf(escape(a)+"=");return-1!=c&&(d=c+(escape(a)+"=").length,e=document.cookie.indexOf(";",d),b=-1!=e?unescape(document.cookie.substring(d,e)):unescape(document.cookie.substring(d))),b},dTree.prototype.updateCookie=function(){var b,a="";for(b=0;b<this.aNodes.length;b++)this.aNodes[b]._io&&this.aNodes[b].pid!=this.root.id&&(a&&(a+="."),a+=this.aNodes[b].id);this.setCookie("co"+this.obj,a)},dTree.prototype.isOpen=function(a){var c,b=this.getCookie("co"+this.obj).split(".");for(c=0;c<b.length;c++)if(b[c]==a)return!0;return!1},Array.prototype.push||(Array.prototype.push=function(){for(var a=0;a<arguments.length;a++)this[this.length]=arguments[a];return this.length}),Array.prototype.pop||(Array.prototype.pop=function(){return lastElement=this[this.length-1],this.length=Math.max(this.length-1,0),lastElement});